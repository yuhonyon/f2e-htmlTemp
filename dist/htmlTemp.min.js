!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("htmlTemp",[],t):"object"==typeof exports?exports.htmlTemp=t():e.htmlTemp=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t,n){return("string"==typeof t?t:t.toString()).replace(e.define||l,function(t,r,o,i){return 0===r.indexOf("def.")&&(r=r.substring(4)),r in n||(":"===o?(e.defineParams&&i.replace(e.defineParams,function(e,t,o){n[r]={arg:t,text:o}}),r in n||(n[r]=i)):new Function("def","def['"+r+"']="+i)(n)),""}).replace(e.use||l,function(t,o){e.useParams&&(o=o.replace(e.useParams,function(e,t,r,o){if(n[r]&&n[r].arg&&o){var i=(r+":"+o).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[i]=n[r].text.replace(new RegExp("(^|[^\\w$])"+n[r].arg+"([^\\w$])","g"),"$1"+o+"$2"),t+"def.__exp['"+i+"']"}}));var i=new Function("def","return "+o)(n);return i?r(e,i,n):i})}function o(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c={templateSettings:{evaluate:/\<\%([\s\S]+?(\}?)+)\%\>/g,interpolate:/\<\%=([\s\S]+?)\%\>/g,encode:/\<\%!([\s\S]+?)\%\>/g,use:/\<\%#([\s\S]+?)\%\>/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\<\%##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\%\>/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\<\%\?(\?)?\s*([\s\S]*?)\s*\%\>/g,iterate:/\<\%~\s*(?:\%\>|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\%\>)/g,varname:"data",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},filters:{},template:void 0,compile:void 0,render:void 0,log:!0,cache:{}},a=void 0;c.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},n=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(n,function(e){return t[e]||e}):""}},a=function(){return this||(0,eval)("this")}();var u={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},l=/$^/;c.template=function(e,t,n){var i=(t=t||c.templateSettings).append?u.append:u.split,d=void 0,f=0,p=void 0,s=t.use||t.define?r(t,e,n||{}):e;s=("var out='"+(t.strip?s.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):s).replace(/'|\\/g,"\\$&").replace(t.interpolate||l,function(e,t){if(/\|/.test(t)){var n=void 0;n=/\|\|/.test(t)?(t=(t=(t=t.replace(/\|\|/g,"@#$*")).replace(/\|/g,"*$#@")).replace(/@#\$\*/g,"||")).split("*$#@"):t.split("|"),t=function(e){for(var t=e[0],n=1;n<e.length;n++)if(/\(/.test(e[n])){var r=e[n].split("(");if(!c.filters[r[0]])throw new Error("过滤器"+r[0]+"不存在");t="filters['"+r[0]+"']("+t+","+r[1]}else{if(!c.filters[e[n]])throw new Error("过滤器"+e[n]+"不存在");t="filters['"+e[n]+"']("+t+")"}return t}(n)}return i.start+o(t)+i.end}).replace(t.encode||l,function(e,t){return d=!0,i.startencode+o(t)+i.end}).replace(t.conditional||l,function(e,t,n){return t?n?"';}else if("+o(n)+"){out+='":"';}else{out+='":n?"';if("+o(n)+"){out+='":"';}out+='"}).replace(t.iterate||l,function(e,t,n,r){return t?(f+=1,p=r||"i"+f,t=o(t),"';var arr"+f+"="+t+";if(arr"+f+"){var "+n+","+p+"=-1,l"+f+"=arr"+f+".length-1;while("+p+"<l"+f+"){"+n+"=arr"+f+"["+p+"+=1];out+='"):"';} } out+='"}).replace(t.evaluate||l,function(e,t){return"';"+o(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),d&&(t.selfcontained||!a||a._encodeHTML||(a._encodeHTML=c.encodeHTMLSource(t.doNotSkipEncoded)),s="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+c.encodeHTMLSource.toString()+"("+(t.doNotSkipEncoded||"")+"));"+s);try{return new Function(t.varname,"filters",s)}catch(e){throw"undefined"!=typeof console&&console.log("无法创建这个模板函数: "+s),e}},c.render=function(e,t,n,r){return"object"!==(void 0===n?"undefined":i(n))&&(r=n=null),c.compile(e,n,r)(t,c.filters)},c.renderDom=function(e,t,n,r,o){"object"===(void 0===e?"undefined":i(e))&&e.tagName||(e=document.getElementById(e.replace(/^#/,""))),e.innerHTML=c.render(t,n,r,o)},c.compile=function(e,t,n){"object"!==(void 0===t?"undefined":i(t))&&(n=t=null);var r=void 0;return c.cache[n]?r=c.cache[n]:("object"===(void 0===e?"undefined":i(e))&&e.tagName?e=e.innerHTML:"string"!=typeof e||/</.test(e)||(e=(e=document.getElementById(e.replace(/^#/,"")))?e.innerHTML:""),r=c.template(e,null,t),n&&(c.cache[n]=r)),r},t.default=c}])});